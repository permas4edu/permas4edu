$DEFVAR NDOF TYPE = INTEGER LIST = 5
$DEFVAR NID1  TYPE = INTEGER GEN = 100,1
$DEFVAR NID2  TYPE = INTEGER GEN = 101,1
$DEFVAR X    TYPE = REAL GEN = 0.05,0.05
$DEFVAR EID1  TYPE = INTEGER GEN = 1,1
$DEFVAR EID2  TYPE = INTEGER GEN = 6,1
$DEFVAR EID3  TYPE = INTEGER GEN = 11,1
$ECHO GEN
$ENTER COMPONENT NAME = DFLT_COMP

    $SITUATION NAME = STEP_1
        DFLT_COMP SYSTEM = S_STEP_1  CONSTRAINTS = C_STEP_1
    $END SITUATION

    $SITUATION NAME = STEP_2  PARENT = STEP_1
        DFLT_COMP SYSTEM = S_STEP_1  LOADING = L_STEP_2 
    $END SITUATION

    $SITUATION NAME = STEP_3
        DFLT_COMP SYSTEM = S_STEP_1  CONSTRAINTS = C_STEP_1  LOADING = L_STEP_3 
    $END SITUATION

    $STRUCTURE

        $NSET NAME = GROUND
           100
        $NSET NAME = FREE
           $LOOP I = 1, NDOF(1) 
            NID2(I)
           $ENDLOOP

        $NODE NSET = ALL_NODES      
           100  0.0  0.0  0.0 

           $LOOP I = 1, NDOF(1)
            NID2(I) X(I)  0.0 0.0
           $ENDLOOP 

        $ELEMENT TYPE = MASS3 ESET = M
             $LOOP I = 1, NDOF(1) 
              EID1(I)  NID2(I)
             $ENDLOOP

        $ELEMENT TYPE = SPRING1 ESET = K
             $LOOP I = 1, NDOF(1)
               EID2(I) NID1(I) NID2(I)
             $ENDLOOP

        $ELEMENT TYPE = DAMP1 ESET = D
             $LOOP I = 1, NDOF(1)
               EID3(I) NID1(I) NID2(I)
             $ENDLOOP   

    $END STRUCTURE

    $SYSTEM NAME = S_STEP_1

        $GEODAT MASS CONT = MASS
           GD_M  8.0 ! [kg]

        $GEODAT DAMPER CONT = DAMP
           GD_D 25. ! [Ns/m]

        $GEODAT SPRING CONT = STIFF
           GD_K 2000.0 ! [N/m]

        $ELPROP
           M  GEODAT = GD_M
           D  GEODAT = GD_D
           K  GEODAT = GD_K
   
    $END SYSTEM

    $CONSTRAINTS NAME = C_STEP_1

       $SUPPRESS DOFS = 2,3
          ALL_NODES

       $SUPPRESS DOFS = 1
          GROUND

    $END CONSTRAINTS
!
    $LOADING NAME = L_STEP_2

        $CONLOAD LPAT = 1
          NID2(5)  1:  100. ! Newton

        $TRANSLOAD
          LPAT = 1  FUNCTION = CONSTANT
 
    $END LOADING
!
    $LOADING NAME = L_STEP_3

        $CONLOAD LPAT = 1
          NID2(5)  1:  100. ! Newton

        $TRANSLOAD
          LPAT = 1  FUNCTION = CONSTANT
 
    $END LOADING

$EXIT COMPONENT
$ENTER FUNCTION

    $FUNCTION FORMULA FID = CONSTANT
        F(T) = 1.0

$EXIT FUNCTION
$FIN
