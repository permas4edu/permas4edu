$ENTER COMPONENT  NAME = DFLT_COMP  DOFTYPE = DISP MATH
!------
   $SITUATION  NAME = STEP_1
      DFLT_COMP  CONSTRAINTS = C_STEP_1  SYSTEM = S_STEP_1  LOADING = L_STEP_1
   $END SITUATION
!
   $SITUATION  NAME = STEP_2
      DFLT_COMP  CONSTRAINTS = C_STEP_1  SYSTEM = S_STEP_2
   $END SITUATION
!
   $SITUATION  NAME = STEP_3  PARENT = STEP_2
      DFLT_COMP  SYSTEM = S_STEP_2  RESULTS = R_STEP_3
   $END SITUATION
!
   $SITUATION  NAME = STEP_4  PARENT = STEP_2
      DFLT_COMP  SYSTEM = S_STEP_2  LOADING = L_STEP_4  RESULTS = R_STEP_4
   $END SITUATION
!
   $STRUCTURE
!
      $ELEMENT TYPE = BECOS
                1          1          5
                2          5          6
                3          6          7
                4          7          8
                5          8          9
                6          9         10
                7         10         11
                8         11         12
                9         12         13
               10         13         14
               11         14         15
               12         15         16
               13         16         17
               14         17         18
               15         18         19
               16         19         20
               17         20         21
               18         21         22
               19         22         23
               20         23          2
               21          2         24
               22         24         25
               23         25         26
               24         26         27
               25         27         28
               26         28         29
               27         29         30
               28         30         31
               29         31         32
               30         32         33
               31         33         34
               32         34         35
               33         35         36
               34         36         37
               35         37         38
               36         38         39
               37         39         40
               38         40         41
               39         41         42
               40         42          3
               41          3         43
               42         43         44
               43         44         45
               44         45         46
               45         46         47
               46         47         48
               47         48         49
               48         49         50
               49         50         51
               50         51         52
               51         52         53
               52         53         54
               53         54         55
               54         55         56
               55         56         57
               56         57         58
               57         58         59
               58         59         60
               59         60         61
               60         61          4
      $ELEMENT TYPE = MASS6
               61          2
               62          3
!
      $RSYS CART  FORM = ZX
                1  0.000000E+00  0.000000E+00  0.000000E+00 :  1.000000E+01  0.000000E+00  0.000000E+00 :  0.000000E+00  0.000000E+00 -1.000000E+01
!
      $ELSYS RSYS
       SHAFT         RSYS =          1  AXES =  1,  2
!
      $NSET NAME = ABA_NALL_INP
                1          2          3          4          5          6          7          8          9         10         11         12         13         14
               15         16         17         18         19         20         21         22         23         24         25         26         27         28
               29         30         31         32         33         34         35         36         37         38         39         40         41         42
               43         44         45         46         47         48         49         50         51         52         53         54         55         56
               57         58         59         60         61
      $NSET NAME = SHAFT
                1          2          3          4          5          6          7          8          9         10         11         12         13         14
               15         16         17         18         19         20         21         22         23         24         25         26         27         28
               29         30         31         32         33         34         35         36         37         38         39         40         41         42
               43         44         45         46         47         48         49         50         51         52         53         54         55         56
               57         58         59         60         61
      $NSET NAME = SPC
                1          4
      $ESET NAME = DISC_1
               61
      $ESET NAME = DISC_2
               62
      $ESET NAME = LINE1
                1          2          3          4          5          6          7          8          9         10         11         12         13         14
               15         16         17         18         19         20
      $ESET NAME = LINE2
               21         22         23         24         25         26         27         28         29         30         31         32         33         34
               35         36         37         38         39         40
      $ESET NAME = LINE3
               41         42         43         44         45         46         47         48         49         50         51         52         53         54
               55         56         57         58         59         60
      $ESET NAME = ROTOR
                1          2          3          4          5          6          7          8          9         10         11         12         13         14
               15         16         17         18         19         20         21         22         23         24         25         26         27         28
               29         30         31         32         33         34         35         36         37         38         39         40         41         42
               43         44         45         46         47         48         49         50         51         52         53         54         55         56
               57         58         59         60         61         62
      $ESET NAME = SHAFT
                1          2          3          4          5          6          7          8          9         10         11         12         13         14
               15         16         17         18         19         20         21         22         23         24         25         26         27         28
               29         30         31         32         33         34         35         36         37         38         39         40         41         42
               43         44         45         46         47         48         49         50         51         52         53         54         55         56
               57         58         59         60
!
      $COOR
                1  0.000000E+00  0.000000E+00  0.000000E+00
                2  2.000000E-01  0.000000E+00  0.000000E+00
                3  4.000000E-01  0.000000E+00  0.000000E+00
                4  6.000000E-01  0.000000E+00  0.000000E+00
                5  1.000000E-02  0.000000E+00  0.000000E+00
                6  2.000000E-02  0.000000E+00  0.000000E+00
                7  3.000000E-02  0.000000E+00  0.000000E+00
                8  4.000000E-02  0.000000E+00  0.000000E+00
                9  5.000000E-02  0.000000E+00  0.000000E+00
               10  6.000000E-02  0.000000E+00  0.000000E+00
               11  7.000000E-02  0.000000E+00  0.000000E+00
               12  8.000000E-02  0.000000E+00  0.000000E+00
               13  9.000000E-02  0.000000E+00  0.000000E+00
               14  1.000000E-01  0.000000E+00  0.000000E+00
               15  1.100000E-01  0.000000E+00  0.000000E+00
               16  1.200000E-01  0.000000E+00  0.000000E+00
               17  1.300000E-01  0.000000E+00  0.000000E+00
               18  1.400000E-01  0.000000E+00  0.000000E+00
               19  1.500000E-01  0.000000E+00  0.000000E+00
               20  1.600000E-01  0.000000E+00  0.000000E+00
               21  1.700000E-01  0.000000E+00  0.000000E+00
               22  1.800000E-01  0.000000E+00  0.000000E+00
               23  1.900000E-01  0.000000E+00  0.000000E+00
               24  2.100000E-01  0.000000E+00  0.000000E+00
               25  2.200000E-01  0.000000E+00  0.000000E+00
               26  2.300000E-01  0.000000E+00  0.000000E+00
               27  2.400000E-01  0.000000E+00  0.000000E+00
               28  2.500000E-01  0.000000E+00  0.000000E+00
               29  2.600000E-01  0.000000E+00  0.000000E+00
               30  2.700000E-01  0.000000E+00  0.000000E+00
               31  2.800000E-01  0.000000E+00  0.000000E+00
               32  2.900000E-01  0.000000E+00  0.000000E+00
               33  3.000000E-01  0.000000E+00  0.000000E+00
               34  3.100000E-01  0.000000E+00  0.000000E+00
               35  3.200000E-01  0.000000E+00  0.000000E+00
               36  3.300000E-01  0.000000E+00  0.000000E+00
               37  3.400000E-01  0.000000E+00  0.000000E+00
               38  3.500000E-01  0.000000E+00  0.000000E+00
               39  3.600000E-01  0.000000E+00  0.000000E+00
               40  3.700000E-01  0.000000E+00  0.000000E+00
               41  3.800000E-01  0.000000E+00  0.000000E+00
               42  3.900000E-01  0.000000E+00  0.000000E+00
               43  4.100000E-01  0.000000E+00  0.000000E+00
               44  4.200000E-01  0.000000E+00  0.000000E+00
               45  4.300000E-01  0.000000E+00  0.000000E+00
               46  4.400000E-01  0.000000E+00  0.000000E+00
               47  4.500000E-01  0.000000E+00  0.000000E+00
               48  4.600000E-01  0.000000E+00  0.000000E+00
               49  4.700000E-01  0.000000E+00  0.000000E+00
               50  4.800000E-01  0.000000E+00  0.000000E+00
               51  4.900000E-01  0.000000E+00  0.000000E+00
               52  5.000000E-01  0.000000E+00  0.000000E+00
               53  5.100000E-01  0.000000E+00  0.000000E+00
               54  5.200000E-01  0.000000E+00  0.000000E+00
               55  5.300000E-01  0.000000E+00  0.000000E+00
               56  5.400000E-01  0.000000E+00  0.000000E+00
               57  5.500000E-01  0.000000E+00  0.000000E+00
               58  5.600000E-01  0.000000E+00  0.000000E+00
               59  5.700000E-01  0.000000E+00  0.000000E+00
               60  5.800000E-01  0.000000E+00  0.000000E+00
               61  5.900000E-01  0.000000E+00  0.000000E+00
!
      $PART  NAME = LINE1
       LINE1
      $PART  NAME = LINE2
       LINE2
      $PART  NAME = LINE3
       LINE3
      $PART  NAME = DISC_1
       DISC_1
      $PART  NAME = DISC_2
       DISC_2
!
      $NSET NAME = A
        2
      $NSET NAME = B
        3
!
   $END STRUCTURE
!------
   $SYSTEM  NAME = S_STEP_1
!
      $GEODAT BEAM      CONT = SECTTYPE SECTDIM  SECTDIM
       GD_SHAFT              4
         &        :  1.400000E-02
         &        :  1.400000E-02
      $GEODAT MASS      CONT = CYLINDER
       GD_DISC_1     7.860000E+03  1.400000E-02  2.000000E-01  6.105000E-03
       GD_DISC_2     7.860000E+03  1.400000E-02  2.000000E-01  6.105000E-03
!
      $ELPROP
       DISC_1        GEODAT = GD_DISC_1
       DISC_2        GEODAT = GD_DISC_2
       SHAFT         GEODAT = GD_SHAFT      MATERIAL = STEEL
!
   $END SYSTEM
!------
   $SYSTEM  NAME = S_STEP_2
!
      $ELSTATE LOAD  SOURCE = RESULTS
      SITUATION = STEP_1  LPAT =          1
!
      $ADDMATRIX
         GEOSTIFF
         CONVSTIFF
         GYRO
!
      $INSERT VARIANT
      S_STEP_1  CLEAROLD = NO
!
   $END SYSTEM
!------
   $CONSTRAINTS  NAME = C_STEP_1
!
      $SUPPRESS  DOFS = 1,4  DOFTYPE = DISP
       SHAFT
      $SUPPRESS  DOFS = 2,3  DOFTYPE = DISP
       SPC
!
   $END CONSTRAINTS
!------
   $LOADING  NAME = L_STEP_1
!
      $INERTIA ROTATION  LPAT = 1
       ROTOR  0.000000E+00  0.000000E+00  0.000000E+00  1.000000E+01  0.000000E+00  0.000000E+00  1.000000E+00
!
   $END LOADING
!------
   $LOADING  NAME = L_STEP_4
!
     $CONLOAD LPAT = 1
       A 2: 1.E-4 ! m*e
     $CONLOAD LPAT = 2
       A 3: 1.E-4 ! m*e

     $FREQLOAD
        LPAT = 1 TYPE = COSINE AMPLITUDE = 1
        LPAT = 2 TYPE =   SINE AMPLITUDE = 1
!
   $END LOADING
!------
   $RESULTS  NAME = R_STEP_3
!
      $ROTSPEED  PRIMARY = EQUI  DOFTYPE = DISP
        0.000000E+00  1.000000E+02  1.000000E+00
!
   $END RESULTS
!------
   $RESULTS  NAME = R_STEP_4
!
      $FREQUENCY PRIMARY = ROTSPEED
!
      $ROTSPEED  PRIMARY = EQUI  DOFTYPE = DISP
        0.000000E+00  3.000000E+02  1.000000E+00
!
   $END RESULTS
!------
$EXIT COMPONENT
!------------------------------------
$ENTER FUNCTION

    $FUNCTION FORMULA FID = 1
       F(X)=(2*PI*X)^2

$EXIT FUNCTION
!------------------------------------
$ENTER MATERIAL
!------
   $MATERIAL  NAME = STEEL  TYPE = ISO
!
      $ELASTIC  GENERAL  INPUT = DATA
        2.070000E+11  3.000000E-01
!
      $DENSITY  GENERAL  INPUT = DATA
        7.860000E+03
!
   $END MATERIAL
!------
$EXIT MATERIAL
!------------------------------------
$FIN
